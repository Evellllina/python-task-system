# Лабораторная работа №1 Источники задач и контрактов

## Цель:
Освоить duck typing и контрактное программирование на примере источников
задач.

## Описание:
Реализована подсистема приёма задач в платформе
обработки задач. Задачи могут поступать из различных источников, не связанных
наследованием, реализован единый поведенческий контракт.
- `id` — уникальный идентификатор
- `payload` — произвольные данные

- Источник — любой объект с методом `get_tasks()`, возвращающим список задач
- Создан класс Task с полями id и payload, добавлена проверка что id не пустая строка
- Создан протокол TaskSourceProtocol, который требует наличие метода get_tasks у всех источников
- Реализованы три источника задач: FileSource (читает из файла), GeneratorSource, ApiSource
- Создан класс TaskCollector, который собирает задачи из всех источников и проверяет каждый источник на соответствие протоколу через isinstance

## Компоненты:
- `tasks.py` - класс задачи Task с валидацией id
- `protocols.py` - контракт TaskSourceProtocol, которому должны соответствовать все источники.
- `sources.py` - три источника: FileSource, GeneratorSource, ApiSource
- `collector.py` - сборщик, который проверяет источники через `isinstance(source, TaskSourceProtocol)` и собирает задачи из всех источников

## Архитетура:
 <pre>
    .
    ├── src <# лабораторной работы>             # Кодовая база вашей лабораторной работы
    │   └── lab1/                              
    │       ├── collector.py                    # сборщик
    │       ├── protocols.py                    # контракт TaskSourceProtocol   
    │       ├── sources.py                      # FileSource, GeneratorSource, ApiSource
    │       └── tasks.py                        # класс Task
    ├── tests
    │   └── test_lab1.py                        # тесты для лабы №1
    ├──.pre-commit-config.yaml            
    ├── README.md                               # Отчет
    ├──.gitignore
    └── uv.lock
</pre>

## Запуск тестов:
- pytest tests/ -v

## Вывод:
Система успешно собирает задачи из трёх различных источников, проверяет их соответствие контракту и обеспечивает возможность добавления новых типов источников без изменения существующего кода.

## Автор:
Петрова Эвелина М8О-103БВ-25